<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>تسجيل / دخول — Trox</title>
<style>
  body{font-family:"Cairo",sans-serif;background:linear-gradient(180deg,#000015,#000);color:#eaffff;margin:0;display:flex;align-items:center;justify-content:center;height:100vh}
  .card{width:94vw;max-width:420px;background:rgba(8,10,16,0.95);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  label{color:#9fb0c7;font-size:14px}
  input{width:100%;padding:10px;border-radius:8px;margin-top:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff}
  .row{display:flex;gap:8px;margin-top:12px}
  .btn{flex:1;padding:10px;border-radius:8px;border:none;font-weight:800;cursor:pointer}
  .btn.primary{background:linear-gradient(90deg,#00d4ff,#9b6aff);color:#001}
</style>
</head>
<body>
  <div class="card">
    <h2>تسجيل / دخول</h2>
    <label>بريدك الإلكتروني</label>
    <input id="email" type="email" placeholder="you@example.com">
    <label>كلمة المرور</label>
    <input id="password" type="password" placeholder="••••••••">
    <div class="row">
      <button class="btn" id="register">إنشاء حساب</button>
      <button class="btn primary" id="signin">تسجيل الدخول</button>
    </div>
    <p id="status" style="color:#9fb0c7;margin-top:10px"></p>
  </div>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script>
  // ضع هنا إعدادات Firebase (أو احذف/اجعل الصفحة محلية)
  const firebaseConfig = {
    apiKey: "AIzaSyCR8AiukqMEGOFDsjhv7tsFFFLDM5gWpu4",
    authDomain: "trox-capsules.firebaseapp.com",
    projectId: "trox-capsules",
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const status = document.getElementById('status');
  document.getElementById('register').onclick = async ()=>{
    const email = document.getElementById('email').value.trim();
    const pass = document.getElementById('password').value;
    if(!email||!pass){ status.textContent='املأ الحقول'; return; }
    try{ await auth.createUserWithEmailAndPassword(email,pass); status.textContent='تم إنشاء الحساب وتسجيل الدخول'; setTimeout(()=>location.href='space.html',600); }catch(e){ status.textContent = 'خطأ: '+e.message; }
  };
  document.getElementById('signin').onclick = async ()=>{
    const email = document.getElementById('email').value.trim();
    const pass = document.getElementById('password').value;
    if(!email||!pass){ status.textContent='املأ الحقول'; return; }
    try{ await auth.signInWithEmailAndPassword(email,pass); status.textContent='تم تسجيل الدخول'; setTimeout(()=>location.href='space.html',600); }catch(e){ status.textContent='خطأ: '+e.message; }
  };
</script>
</body>
</html>
